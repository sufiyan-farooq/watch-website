jQuery(function(o){var a,i,e,t,r,_=o(document).find(ywcfav_params.img_class_container+".yith_featured_content,"+ywcfav_params.img_class_container+".ywcfav_video_modal_container"),s=1<o(document).find(ywcfav_params.img_class_container).length;(a=_).each(function(){var a=o(this).index(),e=null,e=o(this).hasClass("ywcfav_video_modal_container")?o(this):o(this).find(".ywcfav-audio-content iframe,.ywcfav-video-content iframe,.ywcfav-video-content div.iframe,.ywcfav-video-content video, .ywcfav_video_embedded_iframe");e=o(e[0]);a=o(ywcfav_params.thumbnail_gallery_class_element).get(a),e=(e=e.attr("id")).replace("_html5_api","");o(a).addClass("yith_featured_thumbnail"),o(a).find("img").attr("id",e),o(document).trigger("yith_featured_gallery_single_item_initialized",[o(a),o(this)])}),o(document).trigger("yith_featured_gallery_initialized",[a]),ywcfav_params.trigger_variation&&(o(".variations_form.cart").on("show_variation",function(a,t){setTimeout(function(){var a,e="undefined"!=typeof t.variation_video&&t.variation_video;e?o(ywcfav_params.thumbnail_gallery_class_element).find("img#"+e).trigger("click"):(a=o(document).find(ywcfav_params.thumbnail_gallery_class_element).find('img[src="'+t.image.gallery_thumbnail_src+'"]'),e=o(document).find(ywcfav_params.img_class_container).get(0),o(e).length&&(o(e).hasClass("yith_featured_content")||o(e).hasClass("ywcfav_video_modal_container"))&&i(o(e),t),o(window).trigger("resize"),a.trigger("click"))},101)}).on("reset_data",function(a){setTimeout(function(){var a=o(document).find(ywcfav_params.img_class_container+ywcfav_args.current_slide_active_class);0==a.index()&&a.hasClass("yith_featured_content")&&e(a),o(window).trigger("resize"),a.trigger("woocommerce_gallery_init_zoom")},100)}),i=function(a,e){var t=a.find('div[class^="ywcfav"]:eq(0)'),i=o("<a>"),r=o("<img>"),_=o(ywcfav_params.thumbnail_gallery_class_element).get(0),n=!1;t.length||((t=a.find("a.ywcfav_show_modal")).parent().removeClass("ywcfav_video_modal_container"),n=!0),o(ywcfav_args.product_gallery_trigger_class).show(),t.hide(),o(_).removeClass("yith_featured_thumbnail"),!s&&a.find("a.ywfav_zoom_image").length&&a.find("a.ywfav_zoom_image").remove(),a.find("a.ywfav_zoom_image").length||(i.attr("href",e.image.full_src),i.addClass("ywfav_zoom_image"),r.attr("src",e.image.src),r.attr("height",e.image.src_h),r.attr("width",e.image.src_w),r.attr("srcset",e.image.srcset),r.attr("sizes",e.image.sizes),r.attr("title",e.image.title),r.attr("data-caption",e.image.caption),r.attr("alt",e.image.alt),r.attr("data-src",e.image.full_src),r.attr("data-large_image",e.image.full_src),r.attr("data-large_image_width",e.image.full_src_w),r.attr("data-large_image_height",e.image.full_src_h),r.addClass("ywfav_zoom_image"),i.append(r),n?i.insertBefore(a.find("a.ywcfav_show_modal")):a.append(i),"undefined"!=typeof a.zoom&&(a.trigger("zoom.destroy"),e=o.extend({touch:!1,url:e.image.full_src},ywcfav_params.zoom_options),"ontouchstart"in document.documentElement&&(e.on="click"),"undefined"!=typeof zoom&&a.zoom(e)))},e=function(a){a.trigger("zoom.destroy"),a.find(".ywfav_zoom_image").remove();var e,t=o(ywcfav_params.thumbnail_gallery_class_element).get(0),i=a.find('div[class^="ywcfav"]:eq(0)');a.find("a.ywcfav_show_modal").length&&(a.find("a.ywcfav_show_modal").show(),a.addClass("ywcfav_video_modal_container"),(e=a.find("a.ywcfav_show_modal")).attr("href",e.data("o_href"))),o(t).addClass("yith_featured_thumbnail"),i.show(),o(ywcfav_args.product_gallery_trigger_class).hide(),o(window).trigger("resize"),o(a).trigger("woocommerce_gallery_init_zoom"),i.trigger("woocommerce_gallery_init_zoom")},(t=o(".woocommerce-product-gallery").data("flexslider"))&&(t.vars.before=function(a){a=a.currentSlide,a=o(ywcfav_params.thumbnail_gallery_class_element).find("img").get(a);o(a).parent("li").hasClass("yith_featured_thumbnail")&&o(document).trigger("ywcfav_before_slide_show",o(a).attr("id"))},r=t.vars.after,t.vars.after=function(a){r(a);a=a.currentSlide,a=o(ywcfav_params.thumbnail_gallery_class_element).find("img").get(a),a=void 0!==o(a).attr("id")&&o(a).attr("id");o(document).trigger("ywcfav_after_slide_show",a),setTimeout(function(){o(window).trigger("resize")},100)}))});